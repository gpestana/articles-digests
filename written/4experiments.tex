\chapter{Experiments}

\section{Experiments methodology}

The experiments were performed in different sets. 
Whereas the first two sets of experiments aim to provide a straightforward 
comparison between ARM and Intel technologies, the third set of experiments aims
to study the influence of a NUMA environment in hight performance computing from
an energy consumption perspective. The last set of experiments were done using
the same machine as in the first set, but using different workloads and
measurement tools.
In each set, we used different
techniques and tools to perform the energy measurements. The techniques and tools
used to perform the measurements are described and analyzed in depth in 
Section 3.

The first part of this chapter outlines the scope, methodology and measurement
tools used for each set. The latest part shows the results of the 
experiments, which are analyzed in the next chapter.

Throughout the rest of the document, the different experiments will be termed as
first (FSE), second (SSE), third set of experiments (TSE) and fourth set of
experiments (FtSE). 

\begin{figure}[h!]
  \centering
    \includegraphics[width=100mm]{"img/machine_specs"}
    \caption{Specifications of the machines used for experiments}
    \label{fig:aalto_quad_clamp}
\end{figure}



\subsection{Environment for Power and Performance measurements}
outline CMSSW, architectures, and workloads   

\subsection{First Set of Experiments}
Done at Aalto. Explain methodology and scope.

\subsection{Second Set of Experiments}
Done at CERN. Explain methodology and scope.

\subsection{Third Set of Experiments: RAPL in NUMA environment}
Done at CERN. Explain methodology and scope.

\subsection{Fourth Set of Experiments}
Done at CERN. Explain methodology and scope.


\section{Results}

%full results
\begin{figure}[h!]
  \centering
    \includegraphics[width=100mm]{"img/aalto/aalto_total_quad"}
    \caption{Full single threading CMS experiments on Intel Quad}
    \label{fig:aalto_quad_clamp}
\end{figure}

\begin{figure}[h!]
  \centering
    \includegraphics[width=100mm]{"img/aalto/aalto_total_atom"}
    \caption{Full single threading CMS experiments on Intel Atom}
    \label{fig:aalto_atom_clamp}
\end{figure}

\begin{figure}[h!]
  \centering
    \includegraphics[width=100mm]{"img/aalto/aalto_total_arm"}
    \caption{Full single threading CMS experiments on ARMv7 server}
    \label{fig:aalto_arm_clamp}
\end{figure}


\begin{figure}[h!]
  \centering
    \includegraphics[width=100mm]{"img/aalto/aalto_quadEvents"}
    \caption{Full single threading CMS experiments on Intel Quad - event
    \label{fig:aalto_quad_events}
processing only}
\end{figure}

\begin{figure}[h!]
  \centering
    \includegraphics[width=100mm]{"img/aalto/aalto_atomEvents"}
    \caption{Full single threading CMS experiments on Intel Atom - event
    \label{fig:aalto_atom_events}
processing only}
\end{figure}


\begin{figure}[h!]
  \centering
    \includegraphics[width=100mm]{"img/aalto/aalto_armEvents"}
    \caption{Full single threading CMS experiments on ARMv7 server - event
processing only}
    \label{fig:aalto_arm_events}
\end{figure}


\begin{figure}[h!]
  \centering
    \includegraphics[width=100mm]{"img/aalto/aalto_all_time"}
    \caption{Processing time comparison}
    \label{fig:aalto_time}
\end{figure}

\begin{figure}[h!]
  \centering
    \includegraphics[width=100mm]{"img/aalto/aalto_all"}
    \caption{Energy efficiency comparison between architectures}
    \label{fig:aalto_efficiency_comparison}
\end{figure}



\begin{figure}[h!]
  \centering
    \includegraphics[width=100mm]{"img/aalto/aalto_all2"}
    \label{fig:nf_ss}
    \caption{Processing stage comparison between architecturesi - 2}
\end{figure}


\begin{figure}[h!]
  \centering
    \includegraphics[width=150mm]{"img/acat/results1"}
    \label{fig:nf_ss}
    \caption{Multithreaded ParFullCMS comparison Intel Xeon vs ODROID ARMv7}
\end{figure}

\begin{figure}[h!]
  \centering
    \includegraphics[width=150mm]{"img/cern/rapl"}
    \caption{RAPL measurements with different load combinations }
    \label{fig:nf_ss}
\end{figure}


\begin{figure}[h!]
  \centering
    \includegraphics[width=150mm]{"img/numa/16proc_no_binding"}
    \label{fig:nf_ss}
    \caption{RAPL measurements of NUMA nodes - 16 processes with no explicit
binding}
\end{figure}


\begin{figure}[h!]
  \centering
    \includegraphics[width=150mm]{"img/numa/16proc_node2and3"}
    \label{fig:nf_ss}
    \caption{RAPL measurements of NUMA nodes - 16 processes. Explicit binding 
on node \#2 and node \#3 binding}
\end{figure}


\begin{figure}[h!]
  \centering
    \includegraphics[width=150mm]{"img/numa/32proc"}
    \label{fig:nf_ss}
    \caption{RAPL measurements of NUMA nodes - 32 processes with no explicit
binding}
\end{figure}


\begin{figure}[h!]
  \centering
    \includegraphics[width=150mm]{"img/numa/32proc_explicitly_distributed"}
    \label{fig:nf_ss}
    \caption{RAPL measurements of NUMA nodes - 32 processes. Processes 
distributed evenly explicitly - 8 processes per node. }
\end{figure}

